{"version":3,"sources":["components/Common/Button/Button.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Posts/Post.module.css","components/Profile/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/MyPosts/Posts/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsConteiner.jsx","components/Profile/Profile.jsx","components/Profile/ProfileConteiner.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","event","currentTarget","value","Post","className","classes","item","src","message","likeCounts","maxLength15","maxLengthCreator","AddPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","styleBtn","wrapperBtn","btn","MyPosts","postsElements","this","posts","map","post","key","id","likesCount","data","addPost","newPostText","style","React","PureComponent","mapDispatchYoProps","MyPostsConteiner","connect","state","getPosts","ProfileInfo","profile","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","Object","keys","contactKey","contactValue","Contact","contactsItem","link","href","target","Profile","inner","avatar","photos","large","userPhoto","alt","isOwner","files","length","savePhoto","type","to","Preloader","ProfileConteiner","userId","match","params","autorizedUserId","getUser","getStatus","checkProfile","prevProps","prevState","Component","mapDispatchToProps","compose","getProfile","getUserStatus","getAutorizedUserId","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.9d9fab81.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperBtn\":\"Button_wrapperBtn__3mz7H\",\"btn\":\"Button_btn__1nRYW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1GWcK\",\"inner\":\"Profile_inner__1Gbba\",\"avatar\":\"Profile_avatar__33UfQ\",\"item\":\"Profile_item__-KQ3t\",\"name\":\"Profile_name__2n-wZ\",\"status\":\"Profile_status__2CXpB\",\"contacts\":\"Profile_contacts__3osy6\",\"contactsItem\":\"Profile_contactsItem__1qUze\",\"link\":\"Profile_link__1JEyk\",\"editMode\":\"Profile_editMode__17YGt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"MyPosts_post__1VWrW\",\"posts\":\"MyPosts_posts__1JHv-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__UHDgP\"};","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    \r\n    let [editMode, setEditMode] = useState(false),\r\n        [status, setStatus] = useState(props.status)\r\n    \r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={()=>{setEditMode(true)}}>{status || \"--\"}</span>\r\n                </div>}\r\n            {editMode &&\r\n                <div>\r\n                    <input autoFocus={true}\r\n                           onBlur = {()=>{\r\n                               setEditMode(false)\r\n                               props.updateStatus(status)}}\r\n                           onChange = {(event)=>{setStatus(event.currentTarget.value)}}\r\n                           value = {status}/>\r\n                </div>}\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport classes from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return <div className={classes.item}>\r\n      <img src=\"https://static.independent.co.uk/s3fs-public/thumbnails/image/2020/06/18/10/avatar.jpg\" />\r\n              {props.message}\r\n              <div>\r\n                <span>{props.likeCounts} likes</span>\r\n              </div>\r\n    </div>   \r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../Utils/Validators/validators';\r\nimport { Textarea } from '../../Common/FormsControl/FormsControl';\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Posts/Post';\r\nimport styleBtn from '../../Common/Button/Button.module.css'\r\n\r\nconst maxLength15 =  maxLengthCreator(15)\r\nconst AddPostForm = (props) => {\r\n  return (\r\n    <form onSubmit = {props.handleSubmit}>\r\n      <div>\r\n        <Field component = {Textarea} \r\n               name = {\"newPostText\"} \r\n               placeholder = {\"Enter new post text\"} \r\n               validate = {[required, maxLength15]}/>\r\n      </div>\r\n      <div className = {styleBtn.wrapperBtn}>\r\n        <button className = {styleBtn.btn} >Add posts</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nconst AddPostFormRedux = reduxForm({form : 'addPost'})(AddPostForm)\r\n\r\n\r\nclass MyPosts extends React.PureComponent {\r\n      \r\n  /* shouldComponentUpdate(nextProps, nextState) {\r\n    return nextProps != this.props || nextState != this.state\r\n  } */\r\n\r\n  render() {\r\n  let postsElements = this.props.posts.map(post => <div key = {post.id}><Post message={post.message} likeCounts={post.likesCount} /></div>)\r\n  \r\n  let addPost = (data) => {\r\n    this.props.addPost(data.newPostText);\r\n  }        \r\n    return (\r\n      <div>\r\n        <h3>My posts</h3>\r\n        <AddPostFormRedux onSubmit={addPost} />\r\n        <div className={style.posts}>\r\n          {postsElements}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { addPost } from '../../../Redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\nimport { getPosts } from '../../../Redux/profile-selectors';\r\n\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts : getPosts(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchYoProps =  {\r\n  addPost\r\n}\r\nconst MyPostsConteiner = connect(mapStateToProps, mapDispatchYoProps)(MyPosts);\r\n\r\nexport default MyPostsConteiner;","import React from 'react';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport style from './Profile.module.css';\r\nimport styleBtn from '../Common/Button/Button.module.css'\r\nimport ProfileStatusWithHooks from './ProfileStatus/ProfileStatusWithHooks';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport MyPostsConteiner from './MyPosts/MyPostsConteiner';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Profile = (props) => {\r\n    let onMainPhotoSelected = (event) => {\r\n      if (event.target.files.length) {\r\n        props.savePhoto(event.target.files[0])\r\n      }\r\n    }\r\n    if(!props.profile) {\r\n      return <Preloader />\r\n    } \r\n    return (\r\n        <div className = {style.profile}>\r\n          <div className={style.inner}> \r\n            \r\n            <div className = {style.item}>\r\n              <img className = {style.avatar} src = {props.profile.photos.large || userPhoto} alt = \"\"/>\r\n              <div>\r\n                {props.isOwner && <input onChange = {onMainPhotoSelected} type = {\"file\"} />}\r\n              </div>\r\n              <div className = {styleBtn.wrapperBtn}>\r\n                  {props.isOwner && <NavLink to = \"/edit\">EditMode</NavLink>}\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div className = {style.item}>\r\n              <div>\r\n                <ProfileInfo profile = {props.profile}\r\n                             status = {props.status}\r\n                             updateStatus = {props.updateStatus} />\r\n              </div>\r\n\r\n              <div>\r\n                <MyPostsConteiner />\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n    ) \r\n}\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n  return ( \r\n  <div>\r\n    <div className = {style.name}>{profile.fullName}</div>\r\n      <div className = {style.status}>\r\n        <ProfileStatusWithHooks status = {status} \r\n                                updateStatus = {updateStatus} />\r\n      </div>\r\n      <div>About: {profile.aboutMe}</div>\r\n      <div>LookingForAJob: {profile.lookingForAJob ? \"yes\" : \"no\"}</div>\r\n      <div>My profecional skills: {profile.lookingForAJobDescription}</div>\r\n      <div className = {style.contacts}>{Object.keys(profile.contacts)\r\n          .map(key => {\r\n            return <Contact key = {key} contactKey = {key} contactValue = {profile.contacts[key]} />\r\n          })}\r\n      </div>\r\n  </div>\r\n  )\r\n}\r\n\r\n\r\nconst Contact = ({contactKey, contactValue}) => {\r\nreturn (\r\n  <div className = {style.contactsItem}>\r\n    <label>{contactKey}: </label>\r\n    <a className = {style.link} \r\n       href = {contactValue} \r\n       target = {\"_blank\"}>{contactValue}</a>\r\n  </div>)\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {getUser, getStatus, updateStatus, savePhoto} from '../../Redux/profile-reducer'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../Hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getAutorizedUserId, getProfile, getUserStatus } from '../../Redux/profile-selectors';\r\n\r\nclass ProfileConteiner extends React.Component {\r\n  \r\n  checkProfile() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.autorizedUserId\r\n    }\r\n    this.props.getUser(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.checkProfile()\r\n  }\r\n  componentDidUpdate (prevProps, prevState) {\r\n    if (this.props.match.params.userId != prevProps.match.params.userId){\r\n      this.checkProfile()\r\n    }\r\n  }\r\n\r\n    render() {\r\n      let isOwner = !this.props.match.params.userId || this.props.match.params.userId == this.props.autorizedUserId   \r\n      return (<Profile {...this.props} \r\n        profile = {this.props.profile} \r\n        status = {this.props.status}\r\n        isOwner = {isOwner}\r\n        updateStatus = {this.props.updateStatus}\r\n        savePhoto = {this.props.savePhoto} />)\r\n   }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: getProfile(state),\r\n  status : getUserStatus(state),\r\n  autorizedUserId : getAutorizedUserId(state)\r\n})\r\n\r\nlet mapDispatchToProps = {getUser, getStatus, updateStatus, savePhoto}\r\n\r\n\r\n\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withRouter, withAuthRedirect)(ProfileConteiner);"],"sourceRoot":""}